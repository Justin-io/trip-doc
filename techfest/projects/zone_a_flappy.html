<!DOCTYPE html>
<html>

<head>
    <title>Nose-Nav Flappy Bird: Developer Guide</title>
</head>

<body style="font-family: 'Times New Roman', Serif; font-size: 12pt; line-height: 1.5; margin: 1in;">

    <div
        style="text-align: center; margin-bottom: 2em; text-transform: uppercase; font-weight: bold; text-decoration: underline;">
        Project SRS: Nose-Nav Flappy Bird (Computer Vision Game)
    </div>

    <!-- 1. System Overview -->
    <div style="font-weight: bold; margin-bottom: 5px; text-transform: uppercase;">1. System Overview</div>
    <div style="text-align: justify; margin-bottom: 20px;">
        This project is a hands-free interactive game where the player controls the vertical movement of a "bird" sprite
        using the vertical movement of their nose tip, tracked via a webcam in real-time. It demonstrates <strong>Face
            Mesh Technology</strong> and <strong>Game Physics Integration</strong>.
    </div>

    <!-- 2. Technology Stack -->
    <div style="font-weight: bold; margin-bottom: 5px; text-transform: uppercase;">2. Technology Stack</div>
    <div style="margin-bottom: 20px;">
        <ul>
            <li><strong>Language:</strong> Python 3.9+</li>
            <li><strong>Computer Vision:</strong> MediaPipe (Google's ML solution for Face Mesh), OpenCV (VideoStream).
            </li>
            <li><strong>Game Engine:</strong> PyGame (for rendering sprites, physics, and collision).</li>
            <li><strong>Hardware:</strong> Standard Webcam (30fps), CPU (i5 or better).</li>
        </ul>
    </div>

    <!-- 3. Workflow Logic -->
    <div style="font-weight: bold; margin-bottom: 5px; text-transform: uppercase;">3. Workflow Logic (Algorithm)</div>
    <div style="margin-bottom: 20px;">
        <ol>
            <li><strong>Capture:</strong> OpenCV reads a frame from the Webcam.</li>
            <li><strong>Process:</strong> MediaPipe processes the frame to find 468 Face Landmarks.</li>
            <li><strong>Extract:</strong> Identify <strong>Landmark #4 (Nose Tip)</strong>. Get its Y-coordinate.</li>
            <li><strong>Normalize:</strong> Map the nose Y-coordinate (0 to 1) to the screen height (0 to 600px).</li>
            <li><strong>Update Physics:</strong> Move the Bird Sprite to the mapped Y-position (or apply force).</li>
            <li><strong>Collision:</strong> Check if Bird Rect overlaps with Pipe Rects. If yes -> Game Over.</li>
            <li><strong>Render:</strong> Draw frame -> Flip Display.</li>
        </ol>
    </div>

    <!-- 4. MVP Development Steps -->
    <div style="font-weight: bold; margin-bottom: 5px; text-transform: uppercase;">4. Student Developer Guide (MVP)
    </div>
    <div style="margin-bottom: 20px;">

        <div style="font-weight: bold; text-decoration: underline;">Step 1: Environment Setup</div>
        <pre
            style="background: #f4f4f4; padding: 10px; border: 1px solid #ddd;">pip install opencv-python mediapipe pygame</pre>

        <div style="font-weight: bold; text-decoration: underline;">Step 2: Basic Face Tracking Code</div>
        <div style="font-style: italic; margin-bottom: 10px;">Create `tracker.py` to test webcam info.</div>
        <pre style="background: #f4f4f4; padding: 10px; border: 1px solid #ddd; font-size: 10pt;">
import cv2
import mediapipe as mp

mp_face_mesh = mp.solutions.face_mesh
face_mesh = mp_face_mesh.FaceMesh(max_num_faces=1)

cap = cv2.VideoCapture(0)

while True:
    ret, frame = cap.read()
    rgb_frame = cv2.cvtColor(frame, cv2.COLOR_BGR2RGB)
    results = face_mesh.process(rgb_frame)
    
    if results.multi_face_landmarks:
        for landmarks in results.multi_face_landmarks:
            nose = landmarks.landmark[4] # Index 4 is nose tip
            h, w, _ = frame.shape
            cx, cy = int(nose.x * w), int(nose.y * h)
            cv2.circle(frame, (cx, cy), 10, (0, 255, 0), -1)

    cv2.imshow("Tracking", frame)
    if cv2.waitKey(1) & 0xFF == ord('q'): break
        </pre>

        <div style="font-weight: bold; text-decoration: underline;">Step 3: Integrating PyGame</div>
        <div>
            1. Initialize PyGame window.<br>
            2. In the game loop, replace mouse input with `nose.y`.<br>
            3. Use simple rectangles for Pipes and a Circle for the bird initially.
        </div>
    </div>

    <!-- 5. Learning Outcomes -->
    <div style="font-weight: bold; margin-bottom: 5px; text-transform: uppercase;">5. Learning Outcomes</div>
    <div style="margin-bottom: 20px;">
        By building this, students learn:
        <ul>
            <li>Coordinate Systems (Webcam vs Screen).</li>
            <li>Real-time event loops.</li>
            <li>Collision Detection algorithms (AABB).</li>
        </ul>
    </div>

</body>

</html>